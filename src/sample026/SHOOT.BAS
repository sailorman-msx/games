1000 REM INITIALIZE
1010 SCREEN 1,2:COLOR 15,1,1:KEYOFF:CLEAR300,&HC000:DEFINT A-Z
1020 PX=0:PY=0:EX=0:EY=0:SX=0:SY=0:TX=0:TY=0:ST=0:TG=0:PC=0:E1=0:E2=0
1030 DIM MX(8), MY(8)
1040 MX(1)=0:MX(2)=1:MX(3)=1:MX(4)=1:MX(5)=0:MX(6)=-1:MX(7)=-1:MX(8)=-1
1050 MY(1)=-1:MY(2)=-1:MY(3)=0:MY(4)=1:MY(5)=1:MY(6)=1:MY(7)=0:MY(8)=-1
1100 REM KEY CLICK SOUND OFF
1110 POKE &HF3DB, 0
1200 REM SPIRITE DEFINE
1210 SC=0:FOR I=1 TO 4:READ D$:FOR J=0 TO 31:VPOKE &H3800+SC,VAL("&H"+MID$(D$,J*2+1,2)):SC=SC+1:NEXT J:NEXT I
1220 REM BG(PCG) DEFINE
1230 FOR I=0 TO 7:VPOKE ASC("(")*8+I,&HFF:NEXT I:VPOKE &H2005,&H70
1240 FOR I=0 TO 23:FOR J=0 TO 19:VPOKE &H1800+I*32+6+J,ASC("("):NEXT J:NEXT I
1300 REM MACHINE ROUTINE
1310 AD=&HC000:FOR I=1 TO 6:READ A$:FOR J=0 TO 31:POKEAD,VAL("&H"+MID$(A$,J*2+1,2)):AD=AD+1:NEXT J:NEXT I
1315 REM GTSTCK and TRIG routine
1320 DEF USR=&HC000
1325 REM Get BASIC variable address routine
1330 DEF USR1=&HC025
1400 REM SPRITE POSITION INITIALIZE
1410 PX=112:PY=80:EX=0:EY=0:PUT SPRITE 0,(PX,PY),15
1500 REM SET BASIC variable address
1510 A$=USR1("PC"):POKE&HC802,PEEK(&HC800):POKE&HC803,PEEK(&HC801)
1520 A$=USR1("ST"):POKE&HC804,PEEK(&HC800):POKE&HC805,PEEK(&HC801)
1530 A$=USR1("TG"):POKE&HC806,PEEK(&HC800):POKE&HC807,PEEK(&HC801)
1540 A$=USR1("EY"):POKE&HC808,PEEK(&HC800):POKE&HC809,PEEK(&HC801)
1550 A$=USR1("SY"):POKE&HC80A,PEEK(&HC800):POKE&HC80B,PEEK(&HC801)
1560 A$=USR1("TY"):POKE&HC80C,PEEK(&HC800):POKE&HC80D,PEEK(&HC801)
2005 2000 REM CALL MACHINE ROUTINE
2010 A=USR(0)
2100 REM SET INTERVAL PROCUDERE
2110 ON INTERVAL=5 GOSUB 2210:GOTO 3010
2200 REM ENEMY PROC
2210 IF EY=0 THEN GOSUB 2710
2212 IF E2=0 THEN GOSUB 2710 ELSE E2=E2-1
2215 IF EX<49 OR EX>191 THEN EY=209
2220 PUT SPRITE 1,(EX,EY),6:EX=EX+(E1*4) 
2230 IF EY<191 THEN 2310
2240 EX=0:EY=0
2300 REM PLAYER PROC
2310 IF ST=0 THEN 2340
2320 PX=PX+MX(ST)*4:PX=PX-(PX<49)*4+(PX>191)*4:PY=PY+MY(ST)*4:PY=PY-(PY<1)*4+(PY>175)*4
2330 PUT SPRITE 0,(PX,PY),15
2340 ST=0
2400 REM PLAYER SHOT PROC
2410 IF SX<>0 THEN 2440
2420 IF TG=0 THEN 2500 ELSE TG=0
2430 SX=PX:SY=PY:BEEP
2440 IF SY>191 THEN SX=0
2450 IF SX<>0 THEN PUT SPRITE 2,(SX,SY),15 ELSE PUT SPRITE 2,(SX,209),15
2500 REM ENEMY SHOT PROC
2510 IF TX<>0 THEN 2540
2520 R=INT(RND(1)*10):IF R>1 THEN 2560
2530 TX=EX:TY=EY+16
2540 IF TY<=191 THEN 2560
2550 TX=0:TY=0
2560 IF TX<>0 THEN PUT SPRITE 3,(TX,TY),6 ELSE PUT SPRITE 3,(TX,209),6
2600 RETURN
2700 REM SET ENEMY MOVE DIRECTION
2710 IF INT(RND(1)*2)>=1 THEN E1=1 ELSE E1=-1
2720 IF EX=0 THEN EX=INT(RND(1)*144)+48
2730 E2=INT(RND(1)*4):RETURN
3000 REM MAIN ROUTINE
3010 INTERVAL ON
3020 A$=INKEY$:IF A$<>"q" AND A$<>"Q" THEN 3020
3030 END
5000 REM SPRITE DATA
5010 REM PLAYER
5020 DATA "01011111031333757465ADCBEFED240480808888C0C8CCAE2EA6B5D3F7B72420"
5030 REM ENEMY
5040 DATA "0000041D1C3D33023526624240000000000020B838BCCC40AC64464202000000"
5050 REM PLAYER SHOT
5060 DATA "000000000103030303020002000000000000000080C0C0C0C040004000000000"
5070 REM ENEMY SHOT
5080 DATA "0000000002000203030303010000000000000000400040C0C0C0C08000000000"
6000 REM MACHINE ROUTINE
6010 DATA "F5C5D5E5F3219FFD11ADC0010500EDB03EC32152C0329FFD22A0FDAF32ACC0FB"
6020 DATA "E1D1C1F1C9FE03C0131A6F131A6746234E3AC2F65F3AC3F657131A67131A6F13"
6030 DATA "B7ED422804131318F07B3200C87A3201C8C9F3F5CD5AC0F1FBC9E5D5C5F5CD56"
6040 DATA "013E00CDD50057D53E01CDD500D1B228042A04C877AFCDD800573E01CDD800B2"
6050 DATA "2A06C8772A08C87E3C772A0AC87E3D3D3803771802AF772A0CC87EFEBF28053C"
6060 DATA "3C7718033EC077F1C1D1E1C900000000000025C0000000000000000000000000"

