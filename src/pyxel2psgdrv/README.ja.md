[ [Engligh](README.md) | [日本語](README.ja.md) ]

# pyxel2psgdrv.py

## 概要

このスクリプトはPyxelで作成されたサウンドデータをmsx-PSGSoundDriver形式に変換します。
PyxelのMUSIC、SOUNDデータを元にしてmsx-PSGSoundDriverで利用可能なZ80ASMのソースコードを出力します。

サポートしている機能は以下のとおり。
- z88dk のアセンブラにのみ対応
- msx-PSGSoundDriverのノイズには対応していません
- PyxelのEFXには対応していません

msx-PSGSoundDriverに付属の変換ツールはLovelyComposer専用で、macOSでは使えなかったためこのスクリプトを作成しました。
macOS Ventura 13.2(M1 Mac)で動作確認済みです。

**Pyxel**
author:@kitao
https://github.com/kitao/pyxel

**msx-PSGSoundDriver**
author:@aburi6800
https://github.com/aburi6800/msx-PSGSoundDriver

## 実行サンプル

- 前提条件
Python 3.10以上が必要です。
.pyxresファイルがスクリプトと同じディレクトリに必要です。
出力先のディレクトリを事前に作っておく必要があります。(例：mkdir ./extract)

% mkdir extract
% python pyxel2psgdrv.py -res ./sample.pyxres -o ./extract -f

Conversion success.
The following ASM files were generated by converting the Pyxel sound data.
./extract/pyxel_resource/music0.asm
./extract/pyxel_resource/sound04.asm
./extract/pyxel_resource/sound01.asm
./extract/pyxel_resource/sound00.asm
./extract/pyxel_resource/sound02.asm
./extract/pyxel_resource/sound03.asm

## 出力ソースの利用

music*.asmファイルがmsx-PSGSoundDriverの音源ソースとしてそのまま利用できます。

